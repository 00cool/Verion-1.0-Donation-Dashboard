!function(e,n){"object"==typeof exports&&"undefined"!=typeof module?n(exports,require("@angular/core"),require("@angular/material"),require("@angular/common"),require("@angular/flex-layout")):"function"==typeof define&&define.amd?define(["exports","@angular/core","@angular/material","@angular/common","@angular/flex-layout"],n):n((e.ng=e.ng||{},e.ng["time-picker"]={}),e.ng.core,e.material,e.common,e.flexLayout)}(this,function(e,n,t,i,r){"use strict";(o=e.CLOCK_TYPE||(e.CLOCK_TYPE={}))[o.HOURS=1]="HOURS",o[o.MINUTES=2]="MINUTES";var o,s=function(){function t(){this.userTimeChange=new n.EventEmitter,this.viewChange=new n.EventEmitter,this.steps=new Array}return t.prototype.ngOnChanges=function(){this.setupUI()},t.prototype.setupUI=function(){switch(this.steps=new Array,this.currentView){case e.CLOCK_TYPE.HOURS:for(var n=1;n<=this.userTime.format;n++)this.steps.push(n),this.selectedTimePart=this.userTime.hour||0,this.selectedTimePart>this.userTime.format&&(this.selectedTimePart-=this.userTime.format);break;case e.CLOCK_TYPE.MINUTES:for(n=5;n<=55;n+=5)this.steps.push(n);this.steps.push(0),this.selectedTimePart=this.userTime.minute||0}},t.prototype.getPointerStyle=function(){var n=1;switch(this.currentView){case e.CLOCK_TYPE.HOURS:n=this.userTime.format;break;case e.CLOCK_TYPE.MINUTES:n=60}var t=0;return{"-webkit-transform":"rotate("+(t=this.currentView===e.CLOCK_TYPE.HOURS?Math.round(this.userTime.hour*(360/n))-180:Math.round(this.userTime.minute*(360/n))-180)+"deg)","-ms-transform":"rotate("+t+"deg)",transform:"rotate("+t+"deg)"}},t.prototype.getTimeValueClass=function(n,t){this.currentView===e.CLOCK_TYPE.HOURS?this.STEP_DEG=360/this.userTime.format:this.STEP_DEG=30;var i="w-clock-step w-clock-deg"+this.STEP_DEG*(t+1);return this.selectedTimePart===n&&(i+=" mat-primary"),i},t.prototype.changeTimeValue=function(n){this.currentView===e.CLOCK_TYPE.HOURS?(this.userTime.hour=n,this.viewChange.emit(e.CLOCK_TYPE.MINUTES)):(this.userTime.minute=n,this.viewChange.emit(e.CLOCK_TYPE.HOURS)),this.userTimeChange.emit(this.userTime)},t.decorators=[{type:n.Component,args:[{selector:"w-clock",template:'\n        <div fxLayout="row" fxLayoutAlign="center center" class="w-clock-wrapper">\n            <div class="w-clock">\n                <div class="w-clock-container">\n                    \n                    \x3c!-- Clock center --\x3e\n                    <button  mat-mini-fab [color]="color" class="w-clock-center"></button>\n\n                    \x3c!-- Clock hand --\x3e\n                    <mat-toolbar [ngStyle]="getPointerStyle()" [color]="color" class="w-pointer">\n                        <button mat-mini-fab [color]="color" class="w-clock-selected"></button>\n                    </mat-toolbar>\n                    \n                    \x3c!-- Hour / Minute number faces --\x3e\n                    <div *ngFor="let step of steps; let i = index" [class]="getTimeValueClass(step, i)" >\n                        <button mat-mini-fab\n                            [color]="selectedTimePart === step ? color : \'\'"\n                            (click)="changeTimeValue(step)">\n                            {{ step }}\n                        </button>\n                    </div>\n\n                </div>\n            </div>\n        </div>',styles:["  \n        .w-clock-wrapper {\n            height: 100%;\n            padding: 0 24px;\n        \n        }\n        \n        .w-clock {\n        width: 200px;\n        height: 200px;\n        border-radius: 50%;\n        cursor: pointer;\n        padding: 24px;\n        background: #ededed;\n        }\n        .w-clock-container {\n            width: 100%;\n            height: 100%;\n            position: relative;\n            display: block;\n        }\n        .w-clock-center {\n            height: 6px;\n            width: 6px;\n            position: absolute;\n            left: 0;\n            right: 0;\n            top: 0;\n            bottom: 0;\n            margin: auto;\n            border-radius: 50%;\n        }\n        .w-pointer {\n            box-shadow: none;\n            width: 1px;\n            height: 50%;\n            position: absolute;\n            left: 0;\n            right: 0;\n            bottom: 0;\n            margin: 0 auto;\n            padding: 0;\n            transform-origin: top center;\n            transition: transform 200ms;\n            z-index: 0;\n            pointer-events: none;\n        }\n        .w-clock-step {\n            display: block;\n            position: absolute;\n            transform: translate(-50%, -50%);\n            transition: transform 200ms;\n        }\n        .w-clock-step .mat-mini-fab {\n            box-shadow: none;\n            background-color: transparent;\n            }\n        \n        .w-clock-selected {\n            position: absolute;\n            bottom: -19px;\n            left: -19px;\n            min-width: 0;\n            min-height: 0;\n            pointer-events: none;\n            box-shadow: none;\n            cursor: none;\n        }\n            \n        .w-clock-deg0 {\n            top: 0%;\n            left: 50%;\n        }\n        \n        .w-clock-deg15 {\n            top: 1.70370869%;\n            left: 62.94095226%;\n        }\n        \n        .w-clock-deg30 {\n            top: 6.69872981%;\n            left: 75%;\n        }\n        \n        .w-clock-deg45 {\n            top: 14.64466094%;\n            left: 85.35533905%;\n        }\n        \n        .w-clock-deg60 {\n            top: 25%;\n            left: 93.30127019%;\n        }\n        \n        .w-clock-deg75 {\n            top: 37.05904774%;\n            left: 98.29629131%;\n        }\n        \n        .w-clock-deg90 {\n            top: 50%;\n            left: 100%;\n        }\n        \n        .w-clock-deg105 {\n            top: 62.94095226%;\n            left: 98.29629131%;\n        }\n        \n        .w-clock-deg120 {\n            top: 75%;\n            left: 93.30127019%;\n        }\n        \n        .w-clock-deg135 {\n            top: 85.35533906%;\n            left: 85.35533906%;\n        }\n        \n        .w-clock-deg150 {\n            top: 93.30127019%;\n            left: 75%;\n        }\n        \n        .w-clock-deg165 {\n            top: 98.29629131%;\n            left: 62.94095226%;\n        }\n        \n        .w-clock-deg180 {\n            top: 100%;\n            left: 50%;\n        }\n        \n        .w-clock-deg195 {\n            top: 98.29629131%;\n            left: 37.05904774%;\n        }\n        \n        .w-clock-deg210 {\n            top: 93.30127019%;\n            left: 25%;\n        }\n        \n        .w-clock-deg225 {\n            top: 85.35533906%;\n            left: 14.64466094%;\n        }\n        \n        .w-clock-deg240 {\n            top: 75%;\n            left: 6.69872981%;\n        }\n        \n        .w-clock-deg255 {\n            top: 62.94095226%;\n            left: 1.703708686%;\n        }\n        \n        .w-clock-deg270 {\n            top: 50%;\n            left: 0%;\n        }\n        \n        .w-clock-deg285 {\n            top: 37.05904774%;\n            left: 1.703708686%;\n        }\n        \n        .w-clock-deg300 {\n            top: 25%;\n            left: 6.69872981%;\n        }\n        \n        .w-clock-deg315 {\n            top: 14.64466094%;\n            left: 14.64466094%;\n        }\n        \n        .w-clock-deg330 {\n            top: 6.69872981%;\n            left: 25%;\n        }\n        \n        .w-clock-deg345 {\n            top: 1.703708686%;\n            left: 37.05904774%;\n        }\n        \n        .w-clock-deg360 {\n            top: 0%;\n            left: 50%;\n        }    \n    "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={userTime:[{type:n.Input}],userTimeChange:[{type:n.Output}],currentView:[{type:n.Input}],viewChange:[{type:n.Output}],color:[{type:n.Input}]},t}(),a=function(){function i(n,t,i){this.data=n,this.color=t,this.dialogRef=i,this.VIEW_HOURS=e.CLOCK_TYPE.HOURS,this.VIEW_MINUTES=e.CLOCK_TYPE.MINUTES,this.currentView=this.VIEW_HOURS,this.userTime=n.time,this.color=n.color}return i.prototype.revert=function(){this.dialogRef.close(-1)},i.prototype.submit=function(){this.dialogRef.close(this.userTime)},i.decorators=[{type:n.Component,args:[{selector:"w-time-dialog",template:'\n    <div mat-dialog-content class="w-timepicker-dialog">\n        <w-time [color]="color" [userTime]="userTime" (onRevert)="revert()" (onSubmit)="submit()"></w-time>\n    </div>',styles:["\n        .w-timepicker-dialog {\n            padding: 0;\n            margin: -24px;\n            width: calc(100% + 48px);\n        }\n    "]}]}],i.ctorParameters=function(){return[{type:void 0,decorators:[{type:n.Inject,args:[t.MAT_DIALOG_DATA]}]},{type:void 0,decorators:[{type:n.Inject,args:[t.MAT_DIALOG_DATA]}]},{type:t.MatDialogRef}]},i}(),c=function(){function e(e){this.dialog=e,this.userTimeChange=new n.EventEmitter}return e.prototype.ngOnInit=function(){this.userTime||(this.userTime={hour:10,minute:25,meriden:"PM",format:24})},Object.defineProperty(e.prototype,"time",{get:function(){if(!this.userTime)return"";var e=""+this.userTime.meriden;24===this.userTime.format&&(e="");var n=""+this.userTime.hour;if(24===this.userTime.hour&&(n="00"),0===this.userTime.minute)return n+":00 "+e;if(this.userTime.minute<10){return n+":"+("0"+String(this.userTime.minute))+" "+e}return n+":"+this.userTime.minute+" "+e},enumerable:!0,configurable:!0}),e.prototype.showPicker=function(e){var n=this;return this.dialog.open(a,{data:{time:{hour:this.userTime.hour,minute:this.userTime.minute,meriden:this.userTime.meriden,format:this.userTime.format},color:this.color}}).afterClosed().subscribe(function(e){void 0!==e&&-1!==e&&(n.userTime=e,n.emituserTimeChange())}),!1},e.prototype.emituserTimeChange=function(){this.userTimeChange.emit(this.userTime)},e.decorators=[{type:n.Component,args:[{selector:"timepicker",template:'\n        <div fxFlex fxLayout="row" class="w-mat-timepicker">\n            <button mat-button (click)="showPicker($event)" class="time-picker-button">\n                <mat-icon>access_time</mat-icon>\n            </button>\n        </div>\n    ',styles:["\n        .time-picker-button {\n            padding: 0;\n            margin: 0;\n            min-width: 44px;\n        }\n    "]}]}],e.ctorParameters=function(){return[{type:t.MatDialog}]},e.propDecorators={userTime:[{type:n.Input}],userTimeChange:[{type:n.Output}],color:[{type:n.Input}]},e}(),m=function(){function t(){this.userTimeChange=new n.EventEmitter,this.onRevert=new n.EventEmitter,this.onSubmit=new n.EventEmitter,this.VIEW_HOURS=e.CLOCK_TYPE.HOURS,this.VIEW_MINUTES=e.CLOCK_TYPE.MINUTES,this.currentView=this.VIEW_HOURS}return t.prototype.ngOnInit=function(){this.userTime||(this.userTime={hour:6,minute:0,meriden:"PM",format:12}),this.revertLabel||(this.revertLabel="Cancel"),this.submitLabel||(this.submitLabel="Okay")},t.prototype.formatHour=function(){return 24===this.userTime.hour?"00":this.userTime.hour<10?"0"+String(this.userTime.hour):String(this.userTime.hour)},t.prototype.formatMinute=function(){return 0===this.userTime.minute?"00":this.userTime.minute<10?"0"+String(this.userTime.minute):String(this.userTime.minute)},t.prototype.setCurrentView=function(e){this.currentView=e},t.prototype.setMeridien=function(e){this.userTime.meriden=e},t.prototype.revert=function(){this.onRevert.emit()},t.prototype.submit=function(){this.onSubmit.emit(this.userTime)},t.prototype.emituserTimeChange=function(e){this.userTimeChange.emit(this.userTime)},t.decorators=[{type:n.Component,args:[{selector:"w-time",template:'\n      <div fxLayout="row" fxLayout.lt-md="column" fxLayoutAlign="center center" class="w-time" [ngClass.xs]="\'vertical-time\'" [ngClass.sm]="\'vertical-time\'">\n      <mat-toolbar fxLayout="column"  fxLayout.lt-md="row" fxLayoutAlign="center center" [color]="color" class="w-timepicker-time-container">\n          \n          <div class="w-timepicker-selected-time">\n              <span [class]="currentView === VIEW_HOURS ? \'active\': \'\'" (click)="setCurrentView(VIEW_HOURS)">{{ formatHour() }}:</span>\n              <span [class]="currentView === VIEW_MINUTES ? \'active\': \'\'" (click)="setCurrentView(VIEW_MINUTES)">{{ formatMinute() }}</span>\n          </div>\n          <div fxLayout="column" fxLayoutAlign="center center" class="w-timepicker-selected-ampm" *ngIf="userTime.format === 12">\n              <span (click)="setMeridien(\'AM\')" [class]="userTime.meriden === \'AM\' ? \'active\' : \'\'">AM</span>\n              <span (click)="setMeridien(\'PM\')" [class]="userTime.meriden === \'PM\' ? \'active\' : \'\'">PM</span>\n          </div>\n\n      </mat-toolbar>\n\n      <div fxLayout="column" fxLayoutAlign="space-between center" class="w-time-content">\n          <w-clock [color]="color" class="w-animation-zoom" [userTime]="userTime" (userTimeChange)="emituserTimeChange($event)" [(currentView)]="currentView" (viewChange)="setCurrentView($event)"></w-clock>\n\n          <div fxFlexAlign="end">\n              <button mat-button (click)="revert()">{{revertLabel}}</button>\n              <button mat-button [color]="color" (click)="submit()">{{submitLabel}}</button>\n          </div>\n      </div>\n    </div>  \n  ',styles:[" \n      :host {\n        display: block;\n      }\n      \n      .w-time {\n        max-height: 100%;\n        min-height: 350px;\n        height: 350px;\n      }\n      \n      .w-timepicker-time-container {\n        padding: 15px;\n        min-width: 160px;\n        width: 160px;\n      }\n      \n      .w-timepicker-time-container.mat-toolbar-single-row  {\n          height: 100%;\n      }\n      .w-timepicker-selected-time {\n        font-size: 3.5rem;\n        font-weight: 400;\n        display: flex;\n      }\n      .w-timepicker-selected-ampm {\n        font-size: 1rem;\n        line-height: 1.3rem;\n        padding-top: 2rem;\n      }\n      .w-time-content {\n        width: 100%;\n        height: 100%;\n        padding: 6px;\n      }\n      \n      w-clock {\n        padding: 12px 0;\n        height: calc(100% - 58px);\n      }  \n      \n      .w-time.vertical-time {\n        height: auto;\n      }\n      \n      .w-timepicker-selected-ampm {\n        padding: 8px 12px;\n      }\n      \n      .w-timepicker-selected-time > span, .w-timepicker-selected-ampm > span {\n        outline: 0;\n        opacity: 0.5;\n      }\n      \n      .w-timepicker-selected-time > span:not(.active), .w-timepicker-selected-ampm > span:not(.active) {\n        cursor: pointer;\n      }\n      \n      .w-timepicker-selected-time > span.active, .w-timepicker-selected-ampm > span.active {\n        opacity: 1;\n      }\n      \n      .w-animate-next {\n        opacity: 0;\n        -webkit-transform: translate3d(50%, 0, 1px);\n        transform: translate3d(50%, 0, 1px);\n      }\n      \n      .w-animate-next-remove {\n        -webkit-transition: all 0.5s cubic-bezier(0.35, 0, 0.25, 1);\n        transition: all 0.5s cubic-bezier(0.35, 0, 0.25, 1);\n        opacity: 0;\n        -webkit-transform: translate3d(50%, 0, 1px);\n        transform: translate3d(50%, 0, 1px);\n      }\n      \n      .w-animate-next-remove-active {\n        opacity: 1;\n        -webkit-transform: translate3d(0, 0, 1px);\n        transform: translate3d(0, 0, 1px);\n      }\n      \n      .w-animate-prev {\n        opacity: 0;\n        -webkit-transform: translate3d(-50%, 0, 1px);\n        transform: translate3d(-50%, 0, 1px);\n      }\n      \n      .w-animate-prev-remove {\n        -webkit-transition: all 0.3s cubic-bezier(0.35, 0, 0.25, 1);\n        transition: all 0.3s cubic-bezier(0.35, 0, 0.25, 1);\n        opacity: 0;\n        -webkit-transform: translate3d(-50%, 0, 1px);\n        transform: translate3d(-50%, 0, 1px);\n      }\n      \n      .w-animate-prev-remove-active {\n        opacity: 1;\n        -webkit-transform: translate3d(0, 0, 1px);\n        transform: translate3d(0, 0, 1px);\n      }\n      \n      @-webkit-keyframes w-animation-bounce {\n        from {\n          opacity: 0;\n          -webkit-transform: scale(0.95);\n          transform: scale(0.95);\n        }\n      \n        70% {\n          opacity: 1;\n          -webkit-transform: scale(1.05);\n          transform: scale(1.05);\n        }\n      \n        to {\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n      }\n      \n      @keyframes w-animation-bounce {\n        from {\n          opacity: 0;\n          -webkit-transform: scale(0.95);\n          transform: scale(0.95);\n        }\n      \n        70% {\n          opacity: 1;\n          -webkit-transform: scale(1.05);\n          transform: scale(1.05);\n        }\n      \n        to {\n          -webkit-transform: scale(1);\n          transform: scale(1);\n        }\n      }\n      \n      .w-animation-zoom.ng-enter {\n        -webkit-transition: all 0.3s cubic-bezier(0.35, 0, 0.25, 1);\n        transition: all 0.3s cubic-bezier(0.35, 0, 0.25, 1);\n        -webkit-animation-duration: 0.3s;\n        animation-duration: 0.3s;\n        -webkit-animation-name: w-animation-bounce;\n        animation-name: w-animation-bounce;\n      }\n  "]}]}],t.ctorParameters=function(){return[]},t.propDecorators={userTime:[{type:n.Input}],userTimeChange:[{type:n.Output}],revertLabel:[{type:n.Input}],submitLabel:[{type:n.Input}],onRevert:[{type:n.Output}],onSubmit:[{type:n.Output}],color:[{type:n.Input}]},t}(),u=function(){function e(){}return e.forRoot=function(){return{ngModule:e}},e.decorators=[{type:n.NgModule,args:[{imports:[i.CommonModule,t.MatButtonModule,t.MatButtonToggleModule,t.MatDialogModule,t.MatFormFieldModule,t.MatIconModule,t.MatInputModule,t.MatSelectModule,t.MatToolbarModule,r.FlexLayoutModule],exports:[c,a,s,m],declarations:[c,a,s,m],entryComponents:[c,a,s,m]}]}],e.ctorParameters=function(){return[]},e}();e.Ng5TimePickerModule=u,e.WMatTimePickerComponent=c,e.WTimeDialogComponent=a,e.WClockComponent=s,e.WTimeComponent=m,Object.defineProperty(e,"__esModule",{value:!0})});